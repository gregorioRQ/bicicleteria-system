"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const EmpleadoUseCases_1 = require("../../application/use-cases/EmpleadoUseCases");
const EmpleadoController_1 = require("../driving-adapters/EmpleadoController");
const validationMiddleware_1 = require("./validation/validationMiddleware");
const empleado_schema_1 = require("./validation/schemas/empleado.schema");
const venta_schema_1 = require("./validation/schemas/venta.schema");
const VentaUseCases_1 = require("../../application/use-cases/VentaUseCases");
const MySQLVentaRepository_1 = require("../driven-adapters/MySQLVentaRepository");
const VentaController_1 = require("./VentaController");
const MySQLEmpleadoRepository_1 = require("../driven-adapters/MySQLEmpleadoRepository");
const router = (0, express_1.Router)();
const empleadoRepository = new MySQLEmpleadoRepository_1.MySQLEmpleadoRepository();
const empleadoUseCases = new EmpleadoUseCases_1.EmpleadoUseCases(empleadoRepository);
const controller = new EmpleadoController_1.EmpleadoController(empleadoUseCases);
const ventaRepository = new MySQLVentaRepository_1.MySQLVentaRepository();
const ventaUseCases = new VentaUseCases_1.VentaUseCases(ventaRepository, empleadoRepository);
const ventaController = new VentaController_1.VentaController(ventaUseCases);
router.post("/crear", (0, validationMiddleware_1.validateSchema)(venta_schema_1.crearVentaSchema), ventaController.crearVenta.bind(ventaController));
router.post("/empleados/crear", (0, validationMiddleware_1.validateSchema)(empleado_schema_1.crearEmpleadoSchema), controller.crearEmpleado.bind(controller));
exports.default = router;
