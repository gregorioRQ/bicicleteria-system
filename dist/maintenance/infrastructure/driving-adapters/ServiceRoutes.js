"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const MySQLServiceRepository_1 = require("../driven-adapters/MySQLServiceRepository");
const ServiceUseCases_1 = require("../../application/use-cases/ServiceUseCases");
const MySQLItemRepository_1 = require("../../../inventory/infrastructure/driven-adapters/MySQLItemRepository");
const ItemCommandAdapter_1 = require("../../../inventory/infrastructure/driven-adapters/ItemCommandAdapter");
const ServicioController_1 = require("./ServicioController");
const router = (0, express_1.Router)();
const serviceRepository = new MySQLServiceRepository_1.MySQLServiceRepository();
const itemRepository = new MySQLItemRepository_1.MySQLItemRepository();
const itemCommandAdapter = new ItemCommandAdapter_1.ItemCommanAdapter(itemRepository);
const serviceUseCases = new ServiceUseCases_1.ServiceUseCases(serviceRepository, itemCommandAdapter);
const controller = new ServicioController_1.ServiceController(serviceUseCases);
router.all("/", controller.getAll.bind(controller));
router.post("/crear", controller.create.bind(controller));
router.get("/:id", controller.getById.bind(controller));
router.delete("/id", controller.delete.bind(controller));
exports.default = router;
